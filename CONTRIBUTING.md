# CONTRIBUTING.md

Kumihan-Formatter への貢献ガイドライン

## 開発参加の方法

### 1. Issue の作成
- バグ報告や機能提案は Issue で行ってください
- 既存の Issue を確認してから新規作成してください
- Issue には適切な Label を付与して管理してください

### 2. Pull Request
- `main` ブランチへの直接コミットは避けてください
- 機能ブランチを作成して作業してください
- PR にはテスト結果を含めてください
- PR のレビューは Claude が行ってください
- PR のレビュー結果に問題がなければ、そのままマージを行ってください
- レビューの結果については、PR にコメントを残してください。
- Issue に基づいて作業を行った場合、作業結果をそのIssue にコメントしてください
- PR のマージ後は Close できる Issue があるかどうかを確認してください

### 3. Issue駆動開発ワークフロー
- Issue 確認・分析後、「作業中」ラベルを付与してください
- ブランチ作成: `git checkout -b feature/issue-{番号}-{概要}` または `git checkout -b fix/issue-{番号}-{概要}`
- 実装・テスト実行
- コミット・プッシュの実行
- PR 作成（本文に `Closes #issue番号` を記載）
- レビュー・マージ実行
- Issue への完了報告・クローズ実行

### 4. コーディング規約
- Python 3.8+ 対応
- Black でコードフォーマット
- 型ヒントを積極的に使用
- 主要クラスの冒頭に、設計ドキュメントへの参照と、関連クラスのメモを、コメントとして付与する

### 5. Commit
- Commit 後はリモートへの Push を行ってください
- PR を作成するタイミングは Issue の問題が全て解決した Commit 後のタイミングとしてください
- Commit 前には必ず一時ファイルや不要な変更を削除してください
- 削除対象ファイル・ディレクトリ:
  - `.pytest_cache/`, `.tmp.*/` - キャッシュ・一時ファイル
  - `*test*.html`, `*test*/` - テスト用出力ファイル・ディレクトリ
  - `dist/test_*`, `*-output/` - テスト用出力ファイル
  - `__pycache__/`, `*.pyc`, `*.log` - Python一時ファイル

### 6. Issue の管理
- Issue にコメントを追加したと言われた場合には、該当するコメントを確認すること
- Issue 開始時は該当 Issue に「作業中」ラベルを付与してください
- 作業完了時は作業内容を詳細にコメントで報告してください
- 完全完了時は「完了待ち」ラベル付与後、Issue をクローズしてください
- PR を伴わない作業（ドキュメント更新、設定変更、ラベル追加等）も同様に管理してください
- 部分完了の場合は残作業を明記し、継続判断を行ってください

### 7. Claude の Issue 処理フロー
- Issue確認・分析 → 「作業中」ラベル付与 → 作業実行 → 完了コメント報告 → ラベル更新 → クローズ判定

## ブランチ戦略

- `main`: 安定版
- `feature/*`: 新機能開発
- `fix/*`: バグ修正

## テスト

```bash
make test
```

## リンター

```bash
make lint
```

## ドキュメント

- 変更内容は CHANGELOG.md に記録
- API 変更時は docs/ を更新
- API 変更時は ./README.mdを更新
