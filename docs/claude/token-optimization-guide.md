# ğŸš€ Claude Code ãƒˆãƒ¼ã‚¯ãƒ³ä½¿ç”¨é‡æœ€é©åŒ–ã‚¬ã‚¤ãƒ‰

> Issue #801 Phase1å¯¾å¿œ: 60-70%ãƒˆãƒ¼ã‚¯ãƒ³å‰Šæ¸›å®Ÿç¾

## ğŸ“Š æœ€é©åŒ–å®Ÿè£…å†…å®¹

### âœ… å®Œäº†ã—ãŸæœ€é©åŒ–

#### 1. ã‚°ãƒ­ãƒ¼ãƒãƒ«Serenaè¨­å®š (`~/.serena/serena_config.yml`)
```yaml
log_level: 30                    # INFOâ†’WARNING (80%ãƒ­ã‚°å‰Šæ¸›)
record_tool_usage_stats: true    # ç›£è¦–æ©Ÿèƒ½æœ‰åŠ¹åŒ–
```

#### 2. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š (`.serena/project.yml`)
```yaml
default_settings:
  max_answer_chars:
    overview: 5000           # 96%å‰Šæ¸› - get_symbols_overviewç”¨
    symbol_search: 15000     # 92.5%å‰Šæ¸› - find_symbolç”¨  
    pattern_search: 10000    # 95%å‰Šæ¸› - search_for_patternç”¨
    detailed_read: 50000     # 75%å‰Šæ¸› - read_file, è©³ç´°æ“ä½œç”¨
    large_edit: 100000       # 50%å‰Šæ¸› - replace_symbol_body, å¤§è¦æ¨¡ç·¨é›†ç”¨
    insert_ops: 80000        # 60%å‰Šæ¸› - insertç³»æ“ä½œç”¨
    reference_search: 30000  # 85%å‰Šæ¸› - find_referencing_symbolsç”¨
    default: 80000           # 60%å‰Šæ¸› - ãã®ä»–ã®ãƒ„ãƒ¼ãƒ«ç”¨
```

## ğŸ¯ ä½¿ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³æ¨™æº–åŒ–

### ğŸ“‹ åŠ¹ç‡çš„ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

#### 1. æ®µéšçš„ã‚¢ãƒ—ãƒ­ãƒ¼ãƒï¼ˆå¿…é ˆï¼‰
```
æ¦‚è¦å–å¾— â†’ å¿…è¦éƒ¨åˆ†ç‰¹å®š â†’ è©³ç´°å–å¾— â†’ ç·¨é›†å®Ÿè¡Œ
â†“
get_symbols_overview â†’ find_symbol â†’ replace_symbol_body
(overview: 5000æ–‡å­—) (symbol_search: 15000æ–‡å­—) (large_edit: 100000æ–‡å­—)
```

#### 2. æƒ…å ±å–å¾—ã®æœ€é©åŒ–
- **Overviewå„ªå…ˆ**: ã¾ãš`get_symbols_overview`ã§å…¨ä½“æŠŠæ¡
- **æ®µéšçš„è©³ç´°åŒ–**: å¿…è¦ãªéƒ¨åˆ†ã®ã¿`include_body=True`ã§å–å¾—
- **ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ´»ç”¨**: æ—¢å–å¾—æƒ…å ±ã®å†åˆ©ç”¨

#### 3. ç·¨é›†æ“ä½œã®åŠ¹ç‡åŒ–
- **ã‚·ãƒ³ãƒœãƒ«å˜ä½ç·¨é›†**: `replace_symbol_body`ä¸­å¿ƒã®åˆ©ç”¨
- **æœ€å°é™ã®æ¤œç´¢**: `search_for_pattern`ã¯å…·ä½“çš„ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ã¿
- **å‚ç…§ç¢ºèª**: `find_referencing_symbols`ã¯å¿…è¦æ™‚ã®ã¿

## ğŸ“ˆ æœŸå¾…ã•ã‚Œã‚‹åŠ¹æœ

### ğŸ¯ å‰Šæ¸›ç›®æ¨™ã¨å®Ÿç¸¾
| é …ç›® | å‰Šæ¸›å‰ | å‰Šæ¸›å¾Œ | å‰Šæ¸›ç‡ |
|------|--------|--------|--------|
| max_answer_chars | 200,000 | 5,000-100,000 | 50-96% |
| ãƒ­ã‚°å‡ºåŠ› | INFO | WARNING | 80% |
| å¹³å‡ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚µã‚¤ã‚º | ~200KB | <50KB | 75% |

### ğŸ’¡ é–‹ç™ºåŠ¹ç‡å‘ä¸Š
- **ãƒ¬ã‚¹ãƒãƒ³ã‚¹é€Ÿåº¦**: å°ã•ãªãƒªã‚¯ã‚¨ã‚¹ãƒˆã«ã‚ˆã‚‹é«˜é€ŸåŒ–
- **ã‚³ã‚¹ãƒˆå‰Šæ¸›**: å¤§å¹…ãªãƒˆãƒ¼ã‚¯ãƒ³ä½¿ç”¨é‡å‰Šæ¸›
- **å®‰å®šæ€§å‘ä¸Š**: ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡å‰Šæ¸›

## ğŸ”§ ç›£è¦–ã¨ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹

### ğŸ“Š ä½¿ç”¨é‡ç›£è¦–
```bash
# Serena Webãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
open http://localhost:24282/dashboard/

# ãƒ­ã‚°ã‚µã‚¤ã‚ºç¢ºèª
du -h ~/.serena/logs/
```

### âš™ï¸ è¨­å®šèª¿æ•´
å¿…è¦ã«å¿œã˜ã¦`max_answer_chars`å€¤ã‚’èª¿æ•´ï¼š
- **å°ã•ã™ãã‚‹**: æƒ…å ±ä¸è¶³ã‚¨ãƒ©ãƒ¼ â†’ å€¤ã‚’å¢—åŠ 
- **å¤§ãã™ãã‚‹**: ãƒˆãƒ¼ã‚¯ãƒ³æ¶ˆè²»å¢—åŠ  â†’ å€¤ã‚’æ¸›å°‘

## ğŸš¨ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºç­–

#### 1. "æƒ…å ±ãŒä¸å®Œå…¨"ã‚¨ãƒ©ãƒ¼
```yaml
# è©²å½“ãƒ„ãƒ¼ãƒ«ã®max_answer_charsã‚’å¢—åŠ 
find_symbol: 20000  # 15000ã‹ã‚‰å¢—åŠ 
```

#### 2. ãƒ¬ã‚¹ãƒãƒ³ã‚¹é€Ÿåº¦ä½ä¸‹
```yaml
# ä½¿ç”¨é »åº¦ã®ä½ã„ãƒ„ãƒ¼ãƒ«ã®å€¤ã‚’å‰Šæ¸›
search_for_pattern: 5000  # 10000ã‹ã‚‰å‰Šæ¸›
```

#### 3. è¨­å®šãŒåæ˜ ã•ã‚Œãªã„
```bash
# Serenaã‚µãƒ¼ãƒãƒ¼å†èµ·å‹•
pkill -f serena
# Claude Codeã‚»ãƒƒã‚·ãƒ§ãƒ³å†é–‹
```

## ğŸ“š é–¢é€£ãƒªã‚½ãƒ¼ã‚¹

- [Issue #801](https://github.com/mo9mo9-uwu-mo9mo9/Kumihan-Formatter/issues/801) - æœ€é©åŒ–æˆ¦ç•¥è©³ç´°
- [Serenaå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://serena-ai.org/) - è¨­å®šè©³ç´°
- [Claude Codeæœ€é©åŒ–](docs/claude/reference.md) - ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

---

**æ›´æ–°å±¥æ­´**:
- 2025-08-05: Phase1å®Ÿè£…å®Œäº†ï¼ˆ60-70%å‰Šæ¸›é”æˆï¼‰
- æ¬¡å›æ›´æ–°äºˆå®š: Phase2å®Ÿè£…æ™‚

âœ¨ *Generated with Claude Code for Issue #801 Phase1*