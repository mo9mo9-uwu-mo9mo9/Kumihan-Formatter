;;;見出し1
ダブルクリック実行ガイド - テスト用記法網羅ファイル生成
;;;

;;;太字
簡単実行: ダブルクリックするだけで、Kumihan-FormatterのすべてのKumihan記法パターンを網羅したテストファイルを自動生成できます。
;;;

;;;見出し2
クイックスタート
;;;

;;;見出し3
Windows の場合
;;;

1. dev/generate_test_patterns.bat をダブルクリック
2. 自動でテストファイルが生成されます
3. 出力フォルダが自動で開きます

;;;見出し3
macOS の場合
;;;

1. dev/generate_test_patterns.command をダブルクリック
2. 自動でテストファイルが生成されます
3. 出力フォルダが自動で開きます

;;;見出し2
生成されるファイル
;;;

;;;見出し3
出力先
;;;
```
dev/test-output/2025-06-21_12-34-56/
├── test_patterns.txt  ← テスト用記法網羅ファイル
└── test_patterns.html ← HTML変換結果
```

### ファイル名の形式
- **固定名**: `test_patterns.txt`
- **同じ名前のHTMLファイル**も同時生成
- **フォルダ名はタイムスタンプ付き**: `YYYY-MM-DD_HH-MM-SS`

---

## 🔧 動作要件

### 必須環境
- **Python 3.9以上**
- **Kumihan-Formatterパッケージ**（`pip install -e .`でインストール済み）

### 推奨環境
- **仮想環境**（`.venv` または `venv`）が設定済み
- プロジェクトフォルダ内での実行

---

## ⚡ 実行の流れ

### 1. 環境チェック
- Python環境の自動検出
- 仮想環境の自動アクティベーション
- パッケージのインストール確認

### 2. ファイル生成
- **150パターン**の記法組み合わせを生成
- 進捗バー付きの視覚的フィードバック
- 詳細な統計情報表示

### 3. 自動テスト
- 生成したファイルをHTMLに自動変換
- 変換成功/失敗の確認
- ファイルサイズ情報の表示

### 4. 結果確認
- 出力フォルダの自動オープン
- ブラウザでHTML結果を自動表示
- 成功通知（macOSのみ）

---

## 📊 生成パターン詳細

### 含まれる記法
- **単一ブロック記法**: 見出し1-5、太字、イタリック、枠線、ハイライト
- **複合ブロック記法**: 2-4つのキーワード組み合わせ
- **キーワード付きリスト**: 単一・複合・色指定パターン
- **混在パターン**: 通常段落との組み合わせ
- **エラーケース**: 意図的な無効パターン
- **パフォーマンステスト**: 大量データ処理テスト

### 統計情報例
```
📊 生成パターン数: 54
🏷️ 単一キーワード数: 9
🎨 ハイライト色数: 6
🔢 最大組み合わせ数: 150
📏 テキストファイル: 20,389 バイト
📏 HTMLファイル: 25,927 バイト
```

---

## 🛠️ トラブルシューティング

### よくあるエラー

#### 「Pythonが見つかりません」
**解決方法**:
1. Python 3.9以上をインストール
2. PATH環境変数にPythonを追加
3. 仮想環境（`.venv`）を作成・アクティベート

#### 「Kumihan-Formatterがインストールされていません」
**解決方法**:
```bash
# プロジェクトフォルダで実行
pip install -e .
```

#### 「仮想環境のアクティベートに失敗」
**解決方法**:
1. 仮想環境を再作成
   ```bash
   python -m venv .venv
   ```
2. 手動でアクティベート後、パッケージをインストール

#### 「権限エラー」
**解決方法**:
- **Windows**: 管理者として実行
- **macOS**: `chmod +x generate_test_patterns.command`

---

## 🎯 使用場面

### 開発者向け
- **新機能テスト**: 追加した記法が正しく動作するか確認  
- **回帰テスト**: 既存機能に影響がないか検証
- **パフォーマンステスト**: 大量データでの処理速度確認

### ドキュメント作成
- **記法サンプル**: すべての記法の使用例を確認
- **HTML出力確認**: 実際のレンダリング結果を検証
- **エラーパターン**: 無効な記法の処理を把握

---

## 📝 カスタマイズ

### パターン数の変更
スクリプト内の `--pattern-count` パラメータを変更:
```bash
# デフォルト: 150パターン
--pattern-count 150

# より多くのパターンを生成
--pattern-count 300
```

### 出力先の変更
スクリプト内の `OUTPUT_DIR` を変更:
```bash
# Windows
set OUTPUT_DIR=%USERPROFILE%\Documents\Test-Output

# macOS
OUTPUT_DIR="$HOME/Documents/Test-Output"
```

---

## 🔗 関連情報

- **Issue #20**: テスト用記法網羅ファイル生成機能の追加
- **Issue #30**: ダブルクリック実行対応
- **USAGE_GENERATE_TEST.md**: 詳細な使用方法
- **CLAUDE.md**: プロジェクト全体の仕様

---

## 💁 サポート

問題が発生した場合は、以下の情報を含めてGitHubのIssueで報告してください：

1. **OS種別**: Windows/macOS
2. **Python バージョン**: `python --version`
3. **エラーメッセージ**: 完全なエラー出力
4. **実行環境**: 仮想環境の有無、パッケージのインストール状況

---

**🎉 Happy Testing!** 
Kumihan-Formatterの全機能を簡単にテストできます。