;;;見出し1
Kumihan-Formatter 記法リファレンス
;;;

このページでは、Kumihan-Formatterで使用できるすべてのKumihan記法を詳しく説明します。

;;;見出し2
基本ルール
;;;

;;;見出し3
記法の基本形式
;;;
```
;;;キーワード
内容
;;;
```

;;;見出し3
重要なポイント
;;;

- 行頭から記述: ;;; は必ず行の最初から
- 空行で区切り: ブロックの前後は空行
- 大文字小文字: キーワードは厳密に一致させる
- 全角・半角: 記号は必ず半角の ;

;;;見出し2
段落とテキスト
;;;

;;;見出し3
通常の段落
;;;
```
これは通常の段落です。
空行で区切ることで、新しい段落になります。

これは2番目の段落です。
```

;;;見出し3
改行と連続テキスト
;;;

```
この行と
この行は同じ段落として扱われます。

空行があると別の段落になります。
```

## 🎨 文字装飾

### 太字
```
;;;太字
この文字は太字で表示されます
;;;
```

### イタリック
```
;;;イタリック
この文字はイタリック体で表示されます
;;;
```

### 複合スタイル
```
;;;太字＋イタリック
太字とイタリックの両方が適用されます
;;;
```

## 📋 目次機能

### 自動目次生成
```
;;;目次
;;;
```

### 使用例
```
;;;目次
;;;

;;;見出し1
第1章：はじめに
;;;

;;;見出し2
1.1 概要
;;;

;;;見出し2  
1.2 特徴
;;;
```

自動的に見出しを収集して目次を生成し、サイドバーに表示されます。

## 🔄 ソーストグル機能

### 記法と結果の切り替え表示
```bash
# CLIオプションで有効化
python -m kumihan_formatter convert sample.txt --with-source-toggle
```

または

```bash
# Windows
変換ツール.bat を実行後、Yを選択

# macOS  
変換ツール.command を実行後、Yを選択
```
この文字は斜体で表示されます
;;;
```

### 太字 + イタリック
```
;;;太字+イタリック
この文字は太字の斜体で表示されます
;;;
```

---

## 📋 見出し

### 見出し1（最大）
```
;;;見出し1
章のタイトル
;;;
```

### 見出し2
```
;;;見出し2
節のタイトル
;;;
```

### 見出し3
```
;;;見出し3
小見出し
;;;
```

### 見出し4
```
;;;見出し4
より小さな見出し
;;;
```

### 見出し5（最小）
```
;;;見出し5
最小の見出し
;;;
```

### 装飾付き見出し
```
;;;見出し2+太字
太字の見出し
;;;

;;;見出し3+イタリック
斜体の見出し
;;;
```

---

## 🎯 強調・装飾ブロック

### 枠線
```
;;;枠線
重要な情報を枠線で囲んで強調します。
複数行でも問題ありません。
;;;
```

### ハイライト（標準）
```
;;;ハイライト
背景色を付けて強調表示します
;;;
```

### ハイライト（色指定）
```
;;;ハイライト color=#ffe6e6
赤系の背景色
;;;

;;;ハイライト color=#e6ffe6
緑系の背景色
;;;

;;;ハイライト color=#e6e6ff
青系の背景色
;;;

;;;ハイライト color=#fff0e6
オレンジ系の背景色
;;;
```

### 複合装飾
```
;;;枠線+太字
枠線と太字を組み合わせ
;;;

;;;枠線+ハイライト color=#f0f8ff
枠線とハイライトを組み合わせ
;;;

;;;見出し3+枠線+太字
見出し、枠線、太字のトリプル組み合わせ
;;;
```

---

## 📌 リスト

### 基本的なリスト
```
以下のアイテムがあります：
- アイテム1
- アイテム2
- アイテム3
```

### 番号付きリスト
```
手順は以下の通りです：
1. 最初のステップ
2. 2番目のステップ
3. 最後のステップ
```

### キーワード付きリスト
```
- ;;;太字;;; 太字で強調されたリスト項目
- ;;;枠線;;; 枠線付きのリスト項目
- ;;;ハイライト color=#ffe;;; 色付きハイライトのリスト項目
```

### 複合キーワードリスト
```
- ;;;見出し3+太字;;; 見出しと太字を組み合わせた項目
- ;;;枠線+ハイライト color=#f0f8ff;;; 枠線と背景色の組み合わせ
```

---

## 🖼️ 画像の埋め込み

### 基本的な画像
```
;;;画像ファイル名.jpg;;;
```

### 対応画像形式
- `.jpg` / `.jpeg`
- `.png`
- `.gif`
- `.svg`

### 画像配置のルール
- 画像ファイルは `images/` フォルダに配置
- ファイル名のみを記述（パス不要）
- HTMLと同じフォルダに自動でコピーされる

---

## ⚙️ 高度な機能

### エスケープ
```
;;;マーカーを文字として表示したい場合
###;;;###
この部分は ;;; がそのまま表示されます
###;;;###
```

### 設定ファイル使用時の追加マーカー

設定ファイル（`config.yaml`）を使用すると、以下のカスタムマーカーも利用できます：

```
;;;警告
これは警告メッセージです
;;;

;;;重要
これは重要な情報です
;;;

;;;注釈
これは補足情報です
;;;

;;;コード
プログラムコードやコマンドの例
;;;
```

---

## 🚨 よくある間違い

### ❌ 間違った記法

```
# 行頭にスペースがある
   ;;;太字
   内容
   ;;;

# 記号が全角
；；；太字
内容
；；；

# 旧記法（使用不可）
:::太字
内容
:::
```

### ✅ 正しい記法

```
;;;太字
内容
;;;
```

---

## 🎨 スタイリング例

### シナリオサンプル
```
;;;見出し1
クトゥルフ神話TRPG シナリオ
;;;

;;;見出し2
導入
;;;

;;;太字
探索者たちは大学教授から依頼を受ける
;;;

以下の情報が判明している：

- 発生場所：廃病院
- 目撃者：3名
- 失踪者：1名

;;;枠線
【重要】このシナリオにはSAN値チェックが含まれます
;;;

;;;見出し3
第1章：調査開始
;;;

;;;ハイライト color=#ffe6e6
警告：このエリアは危険です
;;;

次の判定を行ってください：
- ;;;太字;;; 知覚ロール
- ;;;イタリック;;; 図書館ロール
```

---

## 📚 参考資料

- **[USER_GUIDE.md](USER_GUIDE.md)** - 基本的な使い方
- **[QUICKSTART.md](QUICKSTART.md)** - はじめての方向け
- **[examples/](../examples/)** - 豊富なサンプル集
- **[TROUBLESHOOTING.md](TROUBLESHOOTING.md)** - 問題解決ガイド

---

この記法リファレンスを使って、美しいHTML文書を作成してください！ ✨