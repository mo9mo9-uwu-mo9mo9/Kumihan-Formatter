{
  "phase_a_baseline": {
    "original_max_answer_chars": 200000,
    "phase_a_reduction": 0.0,
    "phase_a_target_met": false
  },
  "phase_b1_results": {
    "scenario_tests": {
      "small_content_optimization": {
        "optimization_result": {
          "context": {
            "operation_type": "parsing",
            "content_size": 91,
            "complexity_score": 0.25357142857142856,
            "user_pattern": "parsing_small_content"
          },
          "adjustments_applied": 3,
          "optimization_active": true
        },
        "adjustments_applied": 3,
        "context_detected": {
          "operation_type": "parsing",
          "content_size": 91,
          "complexity_score": 0.25357142857142856,
          "user_pattern": "parsing_small_content"
        },
        "success": true,
        "finalization": {
          "adjustment_results": {
            "serena.max_answer_chars": {
              "duration": 2.7179718017578125e-05,
              "expected_benefit": 0.15
            },
            "performance.max_recursion_depth": {
              "duration": 2.7179718017578125e-05,
              "expected_benefit": 0.03
            },
            "performance.cache_templates": {
              "duration": 2.7179718017578125e-05,
              "expected_benefit": 0.02
            }
          },
          "summary": {
            "total_adjustments": 3,
            "recent_adjustments": [
              {
                "key": "serena.max_answer_chars",
                "old_value": 25000,
                "new_value": 15000,
                "reason": "小規模コンテンツのため削減",
                "expected_benefit": 0.15,
                "timestamp": 1754393890.017011
              },
              {
                "key": "performance.max_recursion_depth",
                "old_value": 50,
                "new_value": 30,
                "reason": "単純処理のため削減",
                "expected_benefit": 0.03,
                "timestamp": 1754393890.017053
              },
              {
                "key": "performance.cache_templates",
                "old_value": true,
                "new_value": false,
                "reason": "低頻度パターンでメモリ節約",
                "expected_benefit": 0.02,
                "timestamp": 1754393890.0170848
              }
            ],
            "context_patterns": 1,
            "active_ab_tests": 0,
            "total_expected_benefit": 0.19999999999999998
          },
          "total_expected_benefit": 0.19999999999999998
        }
      },
      "medium_content_optimization": {
        "optimization_result": {
          "context": {
            "operation_type": "rendering",
            "content_size": 2735,
            "complexity_score": 0.20109051254089425,
            "user_pattern": "parsing_small_content"
          },
          "adjustments_applied": 4,
          "optimization_active": true
        },
        "adjustments_applied": 4,
        "context_detected": {
          "operation_type": "rendering",
          "content_size": 2735,
          "complexity_score": 0.20109051254089425,
          "user_pattern": "parsing_small_content"
        },
        "success": true,
        "finalization": {
          "adjustment_results": {
            "monitoring.interval": {
              "duration": 2.288818359375e-05,
              "expected_benefit": 0.01
            }
          },
          "summary": {
            "total_adjustments": 4,
            "recent_adjustments": [
              {
                "key": "serena.max_answer_chars",
                "old_value": 25000,
                "new_value": 15000,
                "reason": "小規模コンテンツのため削減",
                "expected_benefit": 0.15,
                "timestamp": 1754393890.017011
              },
              {
                "key": "performance.max_recursion_depth",
                "old_value": 50,
                "new_value": 30,
                "reason": "単純処理のため削減",
                "expected_benefit": 0.03,
                "timestamp": 1754393890.017053
              },
              {
                "key": "performance.cache_templates",
                "old_value": true,
                "new_value": false,
                "reason": "低頻度パターンでメモリ節約",
                "expected_benefit": 0.02,
                "timestamp": 1754393890.0170848
              },
              {
                "key": "monitoring.interval",
                "old_value": 1.0,
                "new_value": 2.0,
                "reason": "レンダリング処理で監視負荷軽減",
                "expected_benefit": 0.01,
                "timestamp": 1754393890.017483
              }
            ],
            "context_patterns": 2,
            "active_ab_tests": 0,
            "total_expected_benefit": 0.21
          },
          "total_expected_benefit": 0.21
        }
      },
      "complex_content_optimization": {
        "optimization_result": {
          "context": {
            "operation_type": "optimization",
            "content_size": 4100,
            "complexity_score": 0.37142857142857144,
            "user_pattern": "parsing_small_content"
          },
          "adjustments_applied": 5,
          "optimization_active": true
        },
        "adjustments_applied": 5,
        "context_detected": {
          "operation_type": "optimization",
          "content_size": 4100,
          "complexity_score": 0.37142857142857144,
          "user_pattern": "parsing_small_content"
        },
        "success": true,
        "finalization": {
          "adjustment_results": {
            "monitoring.interval": {
              "duration": 2.193450927734375e-05,
              "expected_benefit": 0.01
            }
          },
          "summary": {
            "total_adjustments": 5,
            "recent_adjustments": [
              {
                "key": "serena.max_answer_chars",
                "old_value": 25000,
                "new_value": 15000,
                "reason": "小規模コンテンツのため削減",
                "expected_benefit": 0.15,
                "timestamp": 1754393890.017011
              },
              {
                "key": "performance.max_recursion_depth",
                "old_value": 50,
                "new_value": 30,
                "reason": "単純処理のため削減",
                "expected_benefit": 0.03,
                "timestamp": 1754393890.017053
              },
              {
                "key": "performance.cache_templates",
                "old_value": true,
                "new_value": false,
                "reason": "低頻度パターンでメモリ節約",
                "expected_benefit": 0.02,
                "timestamp": 1754393890.0170848
              },
              {
                "key": "monitoring.interval",
                "old_value": 1.0,
                "new_value": 2.0,
                "reason": "レンダリング処理で監視負荷軽減",
                "expected_benefit": 0.01,
                "timestamp": 1754393890.017483
              },
              {
                "key": "monitoring.interval",
                "old_value": 2.0,
                "new_value": 0.5,
                "reason": "最適化処理で高頻度監視",
                "expected_benefit": 0.01,
                "timestamp": 1754393890.0178182
              }
            ],
            "context_patterns": 3,
            "active_ab_tests": 0,
            "total_expected_benefit": 0.22
          },
          "total_expected_benefit": 0.22
        }
      }
    },
    "total_scenarios": 3,
    "successful_scenarios": 3
  },
  "improvement_metrics": {
    "baseline_metrics": {
      "avg_tokens": 25000,
      "avg_memory": 150.0,
      "avg_processing_speed": 800.0,
      "efficiency_score": 0.65
    },
    "optimized_metrics": {
      "avg_tokens": 24050.0,
      "avg_memory": 145.5,
      "avg_processing_speed": 840.0,
      "efficiency_score": 0.7020000000000001
    },
    "token_reduction": 0.038,
    "memory_reduction": 0.03,
    "time_improvement": 0.05,
    "total_reduction": 0.618,
    "additional_reduction": 0.038,
    "target_achieved": true,
    "target_range": "3.0%-5.0%",
    "actual_additional": "3.8%"
  },
  "stability_metrics": {
    "consistency_test": {
      "runs": 5,
      "results": [
        5,
        5,
        5,
        5,
        5
      ],
      "avg_adjustments": 5.0,
      "consistency_score": 1.0
    },
    "error_handling": {
      "empty_content": {
        "success": true,
        "result": "handled_gracefully"
      },
      "invalid_operation": {
        "success": true,
        "result": "handled_gracefully"
      },
      "huge_content": {
        "success": true,
        "result": "handled_gracefully"
      }
    },
    "memory_stability": {
      "initial_memory_mb": 30.1875,
      "final_memory_mb": 30.1875,
      "memory_increase_mb": 0.0,
      "memory_leak_detected": false
    }
  },
  "final_evaluation": {
    "overall_score": 0.7000000000000001,
    "grade": "ACCEPTABLE",
    "phase_a_maintained": false,
    "phase_b1_target_achieved": true,
    "functionality_success_rate": 1.0,
    "stability_score": 1.0,
    "additional_reduction_achieved": 0.038,
    "recommendations": [
      "システム全体の最適化が必要"
    ]
  }
}
