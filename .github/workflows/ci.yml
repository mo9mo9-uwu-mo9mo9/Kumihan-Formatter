name: CI Legacy (Replaced by Test Hierarchy)

# このワークフローは新しいテスト階層システムに置き換えられました
# - Critical Tests (Tier 0): 必須の高速検証
# - Quality Tests (Tier 1): 詳細検証（条件制御）
# - Full Tests (Tier 2): 完全なクロスプラットフォーム検証
# - Coverage Report: カバレッジ分析

on:
  # Legacy workflow - now fully disabled as Branch Protection has been updated
  # All functionality has been migrated to the new test hierarchy system
  workflow_dispatch: # Manual execution only for emergency purposes

concurrency:
  group: ${{ github.workflow }}-${{ github.ref }}
  cancel-in-progress: true

jobs:
  quick-test:
    name: Quick Test (Python 3.9)
    runs-on: ubuntu-latest
    timeout-minutes: 1
    
    steps:
    - name: Legacy compatibility - delegating to Critical Tests
      run: |
        echo "## ⚠️ Legacy Workflow (Branch Protection Compatibility)"
        echo ""
        echo "このジョブは GitHub Branch Protection の互換性のために維持されています。"
        echo "実際のテストは新しい **Critical Tests (Tier 0)** ワークフローで実行されます。"
        echo ""
        echo "### 🔄 テスト実行状況"
        echo "- ✅ Critical Tests (Tier 0): 必須の高速検証"
        echo "- ⚡ Quality Tests (Tier 1): 条件制御による詳細検証"  
        echo "- 🌐 Full Tests (Tier 2): 包括的クロスプラットフォーム検証"
        echo ""
        echo "📋 Branch Protection設定の更新により、このワークフローは近日中に除去されます。"
        
        # 成功として完了（実際のテストはCritical Testsで実行済み）
        exit 0

  legacy-notice:
    name: Legacy Workflow Notice
    runs-on: ubuntu-latest
    
    steps:
    - name: Display migration notice
      run: |
        echo "## ⚠️ Legacy Workflow Notice"
        echo ""
        echo "このワークフローは新しいテスト階層システムに置き換えられました："
        echo ""
        echo "### 🆕 新しいテスト階層"
        echo "- **🚨 Critical Tests (Tier 0)**: 必須の高速検証（全変更で実行）"
        echo "- **🔍 Quality Tests (Tier 1)**: 詳細検証（重要変更時のみ）"
        echo "- **🌐 Full Tests (Tier 2)**: 完全検証（リリース前・手動実行）"
        echo "- **📊 Coverage Report**: カバレッジ分析（PR ready時）"
        echo ""
        echo "### 📈 改善点"
        echo "- AI開発機動力の向上（不要な実行を削減）"
        echo "- 品質保証の維持（階層的検証）"
        echo "- リソース効率化（条件制御）"
        echo "- 明確な責任分離（目的別実行）"
        echo ""
        echo "詳細は Issue #287 を参照してください。"