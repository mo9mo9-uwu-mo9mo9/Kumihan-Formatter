# Claude Code カスタム設定の使い方

このディレクトリには、Kumihan-Formatter専用のClaude Code設定が含まれています。

## ディレクトリ構造

```
.claude/
├── commands/
│   └── serena.md       # /serenaスラッシュコマンド
├── agents/
│   └── serena-expert.md # Serena Expertサブエージェント
└── README.md           # このファイル
```

## カスタムスラッシュコマンド: `/serena`

### 概要
`/serena`コマンドは、Serena MCPツールを活用してトークン効率的な構造化問題解決を行います。

### 使用方法

```bash
# 基本的な使い方
/serena "解決したい問題"

# デバッグ（5-8思考）
/serena debug "プロダクションでメモリリーク"

# 設計（8-12思考）
/serena design "認証システム"  

# レビュー（4-7思考）
/serena review "このコードを最適化"

# 実装（6-10思考）
/serena implement "機能Xを追加"
```

### オプション

| オプション | 説明 | 使用例 |
|-----------|------|--------|
| `-q` | クイックモード（3-5思考） | `/serena "ボタン修正" -q` |
| `-d` | ディープモード（10-15思考） | `/serena "アーキテクチャ設計" -d` |
| `-c` | コード重視分析 | `/serena "パフォーマンス最適化" -c` |
| `-s` | ステップバイステップ実装 | `/serena "ダッシュボード構築" -s` |
| `-v` | 詳細出力（プロセス表示） | `/serena "問題デバッグ" -v` |
| `-r` | リサーチフェーズ含む | `/serena "フレームワーク選択" -r` |
| `-t` | 実装TODOを作成 | `/serena "新機能" -t` |

## サブエージェント: `serena-expert`

### 概要
Serena Expertは、エリートアプリ開発エージェントとして、`/serena`コマンドを戦略的に活用し、最大効率でアプリケーション開発を行います。

### 使用方法

```bash
# Task toolを使用してSerena Expertを呼び出す
# Claude Codeセッション内で以下のように依頼：

"サブエージェント serena-expert を使ってユーザー管理APIを実装して"
```

### 得意分野

1. **コンポーネント開発**
   - React/Vue/Angularコンポーネント
   - 状態管理の実装
   - 再利用可能なコンポーネントライブラリ

2. **API実装**
   - RESTful/GraphQLエンドポイント
   - 認証・認可
   - データベース設計

3. **システム実装**
   - プロジェクトアーキテクチャ
   - デザインパターン実装
   - マイクロサービス設計

4. **テスト作成**
   - ユニット/統合/E2Eテスト
   - テストユーティリティとモック
   - CI/CDパイプライン

### 自動トリガー
以下のキーワードを含むタスクで自動的に`/serena`を使用：
- コンポーネント作成
- API実装
- システム設計
- テスト作成
- パフォーマンス最適化

## 設定の有効化

これらの設定は、プロジェクトディレクトリ内でClaude Codeを起動すると自動的に有効になります。

```bash
# プロジェクトディレクトリで実行
claude
```

## 注意事項

- これらの設定はプロジェクト固有です
- Serena MCPツールが有効になっている必要があります
- トークン効率を重視した実装が行われます

## トラブルシューティング

### `/serena`コマンドが認識されない場合
1. `.claude/commands/`ディレクトリが存在することを確認
2. `serena.md`ファイルが正しく配置されていることを確認
3. Claude Codeを再起動

### サブエージェントが動作しない場合
1. `.claude/agents/`ディレクトリが存在することを確認
2. `serena-expert.md`ファイルが正しく配置されていることを確認
3. Task toolが有効になっていることを確認