# Claude Codeè¨­å®šãƒ•ã‚¡ã‚¤ãƒ« - Kumihan-Formatterå°‚ç”¨
# Serena-Expertå¼·åˆ¶ä½¿ç”¨ã‚·ã‚¹ãƒ†ãƒ è¨­å®š

project_name: "Kumihan-Formatter"
project_type: "python_library"

# ğŸš¨ SERENA-EXPERTçµ¶å¯¾å¿…é ˆè¨­å®š
mandatory_tools:
  # é–‹ç™ºé–¢é€£ã‚¿ã‚¹ã‚¯ã§serena-expertçµ¶å¯¾å¿…é ˆ
  development_tasks: "serena-expert"
  code_implementation: "serena-expert"
  component_creation: "serena-expert"
  file_editing: "serena-expert"
  symbol_manipulation: "serena-expert"
  code_analysis: "serena-expert"
  refactoring: "serena-expert"
  testing: "serena-expert"

# å¼·åˆ¶ãƒ¬ãƒ™ãƒ«è¨­å®š
enforcement:
  level: "strict"          # strict: é•åæ™‚å³åº§åœæ­¢
  monitoring: true         # ä½¿ç”¨å±¥æ­´ç›£è¦–æœ‰åŠ¹
  auto_correction: true    # è‡ªå‹•æ˜¯æ­£æ©Ÿèƒ½æœ‰åŠ¹
  violation_action: "stop" # é•åæ™‚ã®å‹•ä½œ: stop(åœæ­¢), warn(è­¦å‘Š), redirect(ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ)

# ç¦æ­¢ãƒ„ãƒ¼ãƒ«ï¼ˆå¾“æ¥ãƒ„ãƒ¼ãƒ«ä½¿ç”¨ç¦æ­¢ï¼‰
forbidden_tools:
  - "Edit"
  - "MultiEdit"
  - "Read"
  - "Write"
  - "Bash"
  - "Glob"
  - "Grep"

# ä¾‹å¤–è¨±å¯ï¼ˆç·Šæ€¥æ™‚ã®ã¿ï¼‰
exceptions:
  emergency_only: true
  requires_explicit_permission: true
  log_all_exceptions: true

# Serenaè¨­å®š
serena:
  priority_tools:
    - "mcp__serena__find_symbol"
    - "mcp__serena__replace_symbol_body"
    - "mcp__serena__insert_after_symbol"
    - "mcp__serena__search_for_pattern"
    - "mcp__serena__get_symbols_overview"

  required_checks:
    - onboarding_performed
    - memory_usage
    - symbol_analysis

# ğŸš¨ AIæœ€é©åŒ–ã‚·ã‚¹ãƒ†ãƒ çµ±åˆè¨­å®šï¼ˆIssue804å¯¾å¿œï¼‰
ai_optimization:
  # Phase B.4 AIæœ€é©åŒ–ã‚·ã‚¹ãƒ†ãƒ çµ±åˆ
  enabled: true
  integration_level: "full"
  auto_activation: true

  # AIåŠ¹ç‡åŒ–è¨­å®š
  efficiency_targets:
    token_reduction_target: 68.8  # Phase B4é”æˆç›®æ¨™ï¼ˆ%ï¼‰
    prediction_accuracy: 85.0     # äºˆæ¸¬ç²¾åº¦é–¾å€¤ï¼ˆ%ï¼‰
    response_time_max: 2.0        # æœ€å¤§å¿œç­”æ™‚é–“ï¼ˆç§’ï¼‰
    memory_optimization: true     # ãƒ¡ãƒ¢ãƒªæœ€é©åŒ–æœ‰åŠ¹

  # serenaçµ±åˆæœ€é©åŒ–
  serena_integration:
    dynamic_parameters: true      # å‹•çš„ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿èª¿æ•´
    context_optimization: true    # ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæœ€é©åŒ–
    batch_processing: true        # ãƒãƒƒãƒå‡¦ç†æœ€é©åŒ–
    cache_predictions: true       # äºˆæ¸¬çµæœã‚­ãƒ£ãƒƒã‚·ãƒ¥

  # MCPé€šä¿¡åŠ¹ç‡åŒ–
  mcp_optimization:
    max_answer_chars_dynamic: true    # å‹•çš„æ–‡å­—æ•°åˆ¶é™èª¿æ•´
    context_aware_limits: true        # ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆèªè­˜åˆ¶é™
    compression_enabled: true         # é€šä¿¡åœ§ç¸®æœ‰åŠ¹
    smart_batching: true             # ã‚¹ãƒãƒ¼ãƒˆãƒãƒƒãƒãƒ³ã‚°

  # AIé§†å‹•å‹è¨­å®šèª¿æ•´
  adaptive_settings:
    auto_parameter_tuning: true       # è‡ªå‹•ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿èª¿æ•´
    performance_monitoring: true      # æ€§èƒ½ç¶™ç¶šç›£è¦–
    optimization_triggers:           # æœ€é©åŒ–ãƒˆãƒªã‚¬ãƒ¼è¨­å®š
      - "token_usage_threshold"      # Tokenä½¿ç”¨é‡é–¾å€¤
      - "response_time_degradation"  # å¿œç­”æ™‚é–“åŠ£åŒ–
      - "prediction_accuracy_drop"   # äºˆæ¸¬ç²¾åº¦ä½ä¸‹
      - "memory_pressure"            # ãƒ¡ãƒ¢ãƒªåœ§è¿«

  # ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯è¨­å®š
  fallback:
    auto_fallback: true              # è‡ªå‹•ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
    fallback_threshold: 60.0         # ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¾å€¤ï¼ˆå‰Šæ¸›ç‡%ï¼‰
    emergency_mode: true             # ç·Šæ€¥ãƒ¢ãƒ¼ãƒ‰æœ‰åŠ¹
    recovery_attempts: 3             # å¾©æ—§è©¦è¡Œå›æ•°

# ç›£è¦–ãƒ»ãƒ­ã‚°è¨­å®š
monitoring:
  enabled: true
  log_file: ".claude-usage.log"
  track_violations: true
  generate_reports: true

# å“è³ªä¿è¨¼
quality_assurance:
  code_style: "black"
  type_checking: "mypy_strict"
  import_sorting: "isort"
  encoding: "utf-8"

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰è¨­å®š
project_specific:
  notation_system: "kumihan_alpha_dev"
  block_notation_only: true
  japanese_language: true
  strict_branch_naming: true

# MCPåŠ¹ç‡åŒ–çµ±åˆè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«å‚ç…§
include_configs:
  - ".claude-mcp-efficiency.yml"    # MCPåŠ¹ç‡åŒ–å°‚ç”¨è¨­å®š
  - ".claude-ai-integration.yml"    # AIçµ±åˆè¨­å®š

# æ›´æ–°å±¥æ­´
version: "2.0.0"
last_updated: "2025-08-05"
created_by: "Claude Code serena-expert System + AI Optimization"
changelog:
  - "v2.0.0: Issue804 AIæœ€é©åŒ–ã‚·ã‚¹ãƒ†ãƒ çµ±åˆã€MCPåŠ¹ç‡åŒ–è¨­å®šè¿½åŠ "
  - "v1.0.0: serena-expertå¼·åˆ¶ä½¿ç”¨ã‚·ã‚¹ãƒ†ãƒ åŸºæœ¬å®Ÿè£…"
