{
  "hooks": {
    "session-start-serena-check": {
      "command": "{{HOOK_COMMAND_PREFIX}} check-serena-expert-config.sh",
      "description": "🚨 P7原則: serena-expert設定・権限確認",
      "trigger": "session-start"
    },
    "pre-development-task": {
      "command": "{{HOOK_COMMAND_PREFIX}} pre-dev-serena-check.sh",
      "description": "🔍 開発作業前: serena-expert使用確認",
      "trigger": "before-tool-call",
      "filter": {
        "tools": ["mcp__serena__*", "Task", "Edit", "Write", "MultiEdit"]
      }
    },
    "serena-expert-usage-monitor": {
      "command": "{{HOOK_COMMAND_PREFIX}} monitor-serena-usage.sh",
      "description": "📊 serena-expert使用状況監視・ログ記録",
      "trigger": "after-tool-call",
      "filter": {
        "tools": ["Task"]
      }
    },
    "p7-violation-detector": {
      "command": "{{HOOK_COMMAND_PREFIX}} detect-p7-violation.sh",
      "description": "⚠️ P7原則違反検出・警告システム",
      "trigger": "before-tool-call",
      "filter": {
        "tools": ["Edit", "Write", "MultiEdit", "mcp__serena__replace_*", "mcp__serena__insert_*"]
      }
    }
  },
  "settings": {
    "enable_hooks": true,
    "timeout_seconds": 15,
    "log_hook_output": true,
    "hook_script_dir": ".claude/hooks",
    "serena_expert_enforcement": {
      "strict_mode": true,
      "log_violations": true,
      "auto_correct": false
    }
  },
  "serena_expert_config": {
    "required_permissions": [
      "Task"
    ],
    "forbidden_direct_tools": [
      "Edit",
      "Write",
      "MultiEdit"
    ],
    "allowed_serena_tools": [
      "mcp__serena__*"
    ],
    "enforcement_level": "strict"
  }
}
