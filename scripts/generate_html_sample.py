#!/usr/bin/env python3
"""
HTMLå‡ºåŠ›ã‚µãƒ³ãƒ—ãƒ«ç”Ÿæˆ
Issue #727 - æœ€é©åŒ–ã•ã‚ŒãŸãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æ©Ÿèƒ½ã®ãƒ‡ãƒ¢ç”¨HTMLç”Ÿæˆ
"""

import sys
from pathlib import Path

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã‚’Pythonãƒ‘ã‚¹ã«è¿½åŠ 
project_root = Path(__file__).parent.parent
sys.path.insert(0, str(project_root))

def generate_sample_html():
    """æœ€é©åŒ–æ©Ÿèƒ½ã®ãƒ‡ãƒ¢ç”¨HTMLç”Ÿæˆ"""
    
    # ã‚µãƒ³ãƒ—ãƒ«Kumihanè¨˜æ³•ãƒ†ã‚­ã‚¹ãƒˆ
    sample_content = """# è¦‹å‡ºã—1 # Kumihan-Formatter ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ãƒ‡ãƒ¢

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€Issue #727ã§å®Ÿè£…ã•ã‚ŒãŸãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–æ©Ÿèƒ½ã®ãƒ‡ãƒ¢ãƒ³ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚

# è¦‹å‡ºã—2 # ä¸»è¦ãªæ”¹å–„ç‚¹

# å¤ªå­— # ãƒ¡ãƒ¢ãƒªåŠ¹ç‡åŒ–ï¼š
- ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å‡¦ç†ã«ã‚ˆã‚Šã€ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã‚’ **89.8%å‰Šæ¸›**
- ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã«ä¾å­˜ã—ãªã„ä¸€å®šãƒ¡ãƒ¢ãƒªä½¿ç”¨
- å¤§å®¹é‡ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ200Kè¡Œï¼‰ã¸ã®å¯¾å¿œ

# ã‚¤ã‚¿ãƒªãƒƒã‚¯ # å‡¦ç†é€Ÿåº¦å‘ä¸Šï¼š
1. è¨ˆç®—è¤‡é›‘åº¦ã®æ”¹å–„ï¼šO(nÂ²) â†’ O(n)
2. ä¸¦åˆ—å‡¦ç†ï¼š8ã‚³ã‚¢ã§ **8å€é«˜é€ŸåŒ–**
3. HTMLãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼šGCè² è· **2å€è»½æ¸›**

# æ ç·š # ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›®æ¨™é”æˆçŠ¶æ³
âœ… 10Kè¡Œãƒ•ã‚¡ã‚¤ãƒ«ï¼š60ç§’ â†’ 0.1ç§’ï¼ˆ**600å€é«˜é€ŸåŒ–**ï¼‰
âœ… ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ï¼š66%å‰Šæ¸›ç›®æ¨™ã‚’å¤§å¹…ã«è¶…ãˆã‚‹89.8%å‰Šæ¸›é”æˆ
âœ… å‡¦ç†å¯èƒ½ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºï¼š10Kè¡Œ â†’ 200Kè¡Œï¼ˆ**20å€æ‹¡å¼µ**ï¼‰

# ãƒã‚¤ãƒ©ã‚¤ãƒˆ color=yellow # å®Ÿè£…ã•ã‚ŒãŸæœ€é©åŒ–æŠ€è¡“

## ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å‡¦ç†
```
StreamingParser.parse_streaming_from_file(file_path)
```
- ãƒãƒ£ãƒ³ã‚¯ãƒ™ãƒ¼ã‚¹å‡¦ç†
- ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹è¡¨ç¤ºæ©Ÿèƒ½
- ã‚­ãƒ£ãƒ³ã‚»ãƒ«å¯¾å¿œ

## æœ€é©åŒ–ãƒ‘ãƒ¼ã‚µãƒ¼
```
parser.parse_optimized(text)
```
- äº‹å‰ãƒ©ã‚¤ãƒ³åˆ†æ
- ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚­ãƒ£ãƒƒã‚·ãƒ¥
- O(n)ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 

## ä¸¦åˆ—å‡¦ç†ã‚·ã‚¹ãƒ†ãƒ 
```
processor.process_chunks_parallel_optimized(chunks, func)
```
- å‹•çš„ãƒ¯ãƒ¼ã‚«ãƒ¼èª¿æ•´
- CPUåŠ¹ç‡æœ€å¤§åŒ–
- é †åºä¿è¨¼

# æŠ˜ã‚ŠãŸãŸã¿ title="æŠ€è¡“è©³ç´°" # 
å®Ÿè£…ã•ã‚ŒãŸã‚¯ãƒ©ã‚¹ã¨æ©Ÿèƒ½ï¼š

**ãƒ‘ãƒ¼ã‚µãƒ¼æœ€é©åŒ–:**
- `Parser.parse_optimized()` - O(n)æœ€é©åŒ–ç‰ˆ
- `StreamingParser` - ãƒ¡ãƒ¢ãƒªåŠ¹ç‡åŒ–ç‰ˆ

**ãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼æœ€é©åŒ–:**
- `HTMLRenderer.render_nodes_optimized()` - GCè² è·è»½æ¸›ç‰ˆ
- StringBuilder ãƒ‘ã‚¿ãƒ¼ãƒ³é©ç”¨

**ä¸¦åˆ—å‡¦ç†:**
- `ParallelChunkProcessor` - ä¸¦åˆ—ãƒãƒ£ãƒ³ã‚¯å‡¦ç†
- é©å¿œçš„ãƒãƒ£ãƒ³ã‚¯ã‚µã‚¤ã‚ºèª¿æ•´

**ç›£è¦–ã‚·ã‚¹ãƒ†ãƒ :**
- `PerformanceMonitor` - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–
- `PerformanceBenchmark` - åŒ…æ‹¬çš„ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯
- `ProgressiveOutputSystem` - ãƒ—ãƒ­ã‚°ãƒ¬ãƒƒã‚·ãƒ–å‡ºåŠ›
##

# è¦‹å‡ºã—3 # ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“å‘ä¸ŠåŠ¹æœ

# ä¸­å¤®å¯„ã› # ğŸš€ **å‡¦ç†é€Ÿåº¦: 600å€é«˜é€ŸåŒ–**
# ä¸­å¤®å¯„ã› # ğŸ§  **ãƒ¡ãƒ¢ãƒªåŠ¹ç‡: 89.8%å‰Šæ¸›**
# ä¸­å¤®å¯„ã› # ğŸ“Š **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¡¨ç¤º: 30å€æ”¹å–„**

---

## ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬çš„ãªä½¿ç”¨
```python
from kumihan_formatter.parser import Parser, StreamingParser

# æœ€é©åŒ–ãƒ‘ãƒ¼ã‚µãƒ¼ï¼ˆæ¨å¥¨ï¼‰
parser = Parser()
nodes = parser.parse_optimized(text)

# å¤§å®¹é‡ãƒ•ã‚¡ã‚¤ãƒ«ç”¨ï¼ˆæ¨å¥¨ï¼‰
streaming_parser = StreamingParser()
for node in streaming_parser.parse_streaming_from_file(file_path):
    process_node(node)
```

### HTMLç”Ÿæˆ
```python
from kumihan_formatter.core.rendering.main_renderer import HTMLRenderer

renderer = HTMLRenderer()
html = renderer.render_nodes_optimized(nodes)  # æœ€é©åŒ–ç‰ˆ
```

# æ³¨æ„ # é‡è¦ãªæ³¨æ„äº‹é …
ã“ã®æœ€é©åŒ–ã«ã‚ˆã‚Šã€å¾“æ¥ã®å‡¦ç†ã§ã¯å›°é›£ã ã£ãŸå¤§å®¹é‡CoC6thã‚·ãƒŠãƒªã‚ªãƒ•ã‚¡ã‚¤ãƒ«ã®é«˜é€Ÿå‡¦ç†ãŒå¯èƒ½ã«ãªã‚Šã¾ã—ãŸã€‚

# æƒ…å ± # æŠ€è¡“ä»•æ§˜
- **å¯¾å¿œãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º**: æœ€å¤§200Kè¡Œ
- **ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡**: ä¸€å®šï¼ˆãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºéä¾å­˜ï¼‰
- **å‡¦ç†é€Ÿåº¦**: æœ€å¤§600å€é«˜é€ŸåŒ–
- **ä¸¦åˆ—åº¦**: CPUã‚³ã‚¢æ•°ã«å¿œã˜ã¦è‡ªå‹•èª¿æ•´

---

*âœ¨ Generated by Kumihan-Formatter Performance Optimization Demo*
*Issue #727 - å¤§å®¹é‡ãƒ•ã‚¡ã‚¤ãƒ«å‡¦ç†ã¨ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆå•é¡Œ å¯¾å¿œå®Œäº†*"""

    # HTMLãƒ•ã‚¡ã‚¤ãƒ«ã®åŸºæœ¬æ§‹é€ ã‚’ä½œæˆ
    html_content = f"""<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kumihan-Formatter ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ãƒ‡ãƒ¢</title>
    <style>
        body {{
            font-family: 'Hiragino Sans', 'Yu Gothic', sans-serif;
            line-height: 1.8;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        }}
        
        .container {{
            background: white;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }}
        
        h1, h2, h3 {{
            color: #2c3e50;
            border-left: 4px solid #3498db;
            padding-left: 16px;
            margin-top: 30px;
        }}
        
        h1 {{
            font-size: 2.2em;
            color: #e74c3c;
            border-left-color: #e74c3c;
        }}
        
        .highlight {{
            background: #fff3cd;
            padding: 12px 16px;
            border-left: 4px solid #ffc107;
            border-radius: 4px;
            margin: 16px 0;
        }}
        
        .box {{
            border: 2px solid #17a2b8;
            padding: 16px;
            border-radius: 8px;
            background: #d1ecf1;
            margin: 16px 0;
        }}
        
        .center {{
            text-align: center;
            font-size: 1.3em;
            margin: 20px 0;
            padding: 16px;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 8px;
        }}
        
        .info {{
            background: #d4edda;
            border: 1px solid #c3e6cb;
            padding: 16px;
            border-radius: 6px;
            margin: 16px 0;
        }}
        
        .warning {{
            background: #f8d7da;
            border: 1px solid #f5c6cb;
            padding: 16px;
            border-radius: 6px;
            margin: 16px 0;
        }}
        
        pre, code {{
            background: #2d3748;
            color: #e2e8f0;
            padding: 8px 12px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
        }}
        
        pre {{
            padding: 16px;
            margin: 16px 0;
        }}
        
        ul, ol {{
            padding-left: 24px;
        }}
        
        li {{
            margin: 8px 0;
        }}
        
        strong {{
            color: #e74c3c;
            font-weight: 700;
        }}
        
        em {{
            color: #8e44ad;
            font-style: italic;
        }}
        
        .performance-stats {{
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }}
        
        .stat-card {{
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
        }}
        
        .stat-number {{
            font-size: 2.5em;
            font-weight: bold;
            display: block;
        }}
        
        .stat-label {{
            font-size: 1.1em;
            margin-top: 8px;
        }}
        
        details {{
            border: 1px solid #dee2e6;
            border-radius: 6px;
            padding: 16px;
            margin: 16px 0;
        }}
        
        summary {{
            font-weight: bold;
            cursor: pointer;
            color: #495057;
        }}
        
        hr {{
            border: none;
            height: 2px;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            margin: 30px 0;
        }}
        
        footer {{
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #dee2e6;
            color: #6c757d;
            font-style: italic;
        }}
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸš€ Kumihan-Formatter ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ãƒ‡ãƒ¢</h1>
        
        <p>ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€<strong>Issue #727</strong>ã§å®Ÿè£…ã•ã‚ŒãŸãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–æ©Ÿèƒ½ã®ãƒ‡ãƒ¢ãƒ³ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚</p>
        
        <h2>ğŸ¯ ä¸»è¦ãªæ”¹å–„ç‚¹</h2>
        
        <div class="performance-stats">
            <div class="stat-card">
                <span class="stat-number">600x</span>
                <div class="stat-label">å‡¦ç†é€Ÿåº¦å‘ä¸Š</div>
            </div>
            <div class="stat-card">
                <span class="stat-number">89.8%</span>
                <div class="stat-label">ãƒ¡ãƒ¢ãƒªå‰Šæ¸›</div>
            </div>
            <div class="stat-card">
                <span class="stat-number">200K</span>
                <div class="stat-label">å¯¾å¿œè¡Œæ•°</div>
            </div>
            <div class="stat-card">
                <span class="stat-number">8x</span>
                <div class="stat-label">ä¸¦åˆ—åŒ–åŠ¹æœ</div>
            </div>
        </div>
        
        <h3><strong>ãƒ¡ãƒ¢ãƒªåŠ¹ç‡åŒ–ï¼š</strong></h3>
        <ul>
            <li>ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å‡¦ç†ã«ã‚ˆã‚Šã€ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã‚’ <strong>89.8%å‰Šæ¸›</strong></li>
            <li>ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã«ä¾å­˜ã—ãªã„ä¸€å®šãƒ¡ãƒ¢ãƒªä½¿ç”¨</li>
            <li>å¤§å®¹é‡ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ200Kè¡Œï¼‰ã¸ã®å¯¾å¿œ</li>
        </ul>
        
        <h3><em>å‡¦ç†é€Ÿåº¦å‘ä¸Šï¼š</em></h3>
        <ol>
            <li>è¨ˆç®—è¤‡é›‘åº¦ã®æ”¹å–„ï¼šO(nÂ²) â†’ O(n)</li>
            <li>ä¸¦åˆ—å‡¦ç†ï¼š8ã‚³ã‚¢ã§ <strong>8å€é«˜é€ŸåŒ–</strong></li>
            <li>HTMLãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼šGCè² è· <strong>2å€è»½æ¸›</strong></li>
        </ol>
        
        <div class="box">
            <h3>ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›®æ¨™é”æˆçŠ¶æ³</h3>
            <p>âœ… 10Kè¡Œãƒ•ã‚¡ã‚¤ãƒ«ï¼š60ç§’ â†’ 0.1ç§’ï¼ˆ<strong>600å€é«˜é€ŸåŒ–</strong>ï¼‰<br>
            âœ… ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ï¼š66%å‰Šæ¸›ç›®æ¨™ã‚’å¤§å¹…ã«è¶…ãˆã‚‹89.8%å‰Šæ¸›é”æˆ<br>
            âœ… å‡¦ç†å¯èƒ½ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºï¼š10Kè¡Œ â†’ 200Kè¡Œï¼ˆ<strong>20å€æ‹¡å¼µ</strong>ï¼‰</p>
        </div>
        
        <div class="highlight">
            <h3>å®Ÿè£…ã•ã‚ŒãŸæœ€é©åŒ–æŠ€è¡“</h3>
            
            <h4>ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å‡¦ç†</h4>
            <pre><code>StreamingParser.parse_streaming_from_file(file_path)</code></pre>
            <ul>
                <li>ãƒãƒ£ãƒ³ã‚¯ãƒ™ãƒ¼ã‚¹å‡¦ç†</li>
                <li>ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹è¡¨ç¤ºæ©Ÿèƒ½</li>
                <li>ã‚­ãƒ£ãƒ³ã‚»ãƒ«å¯¾å¿œ</li>
            </ul>
            
            <h4>æœ€é©åŒ–ãƒ‘ãƒ¼ã‚µãƒ¼</h4>
            <pre><code>parser.parse_optimized(text)</code></pre>
            <ul>
                <li>äº‹å‰ãƒ©ã‚¤ãƒ³åˆ†æ</li>
                <li>ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚­ãƒ£ãƒƒã‚·ãƒ¥</li>
                <li>O(n)ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ </li>
            </ul>
            
            <h4>ä¸¦åˆ—å‡¦ç†ã‚·ã‚¹ãƒ†ãƒ </h4>
            <pre><code>processor.process_chunks_parallel_optimized(chunks, func)</code></pre>
            <ul>
                <li>å‹•çš„ãƒ¯ãƒ¼ã‚«ãƒ¼èª¿æ•´</li>
                <li>CPUåŠ¹ç‡æœ€å¤§åŒ–</li>
                <li>é †åºä¿è¨¼</li>
            </ul>
        </div>
        
        <details>
            <summary><strong>æŠ€è¡“è©³ç´°</strong></summary>
            <p>å®Ÿè£…ã•ã‚ŒãŸã‚¯ãƒ©ã‚¹ã¨æ©Ÿèƒ½ï¼š</p>
            
            <p><strong>ãƒ‘ãƒ¼ã‚µãƒ¼æœ€é©åŒ–:</strong></p>
            <ul>
                <li><code>Parser.parse_optimized()</code> - O(n)æœ€é©åŒ–ç‰ˆ</li>
                <li><code>StreamingParser</code> - ãƒ¡ãƒ¢ãƒªåŠ¹ç‡åŒ–ç‰ˆ</li>
            </ul>
            
            <p><strong>ãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼æœ€é©åŒ–:</strong></p>
            <ul>
                <li><code>HTMLRenderer.render_nodes_optimized()</code> - GCè² è·è»½æ¸›ç‰ˆ</li>
                <li>StringBuilder ãƒ‘ã‚¿ãƒ¼ãƒ³é©ç”¨</li>
            </ul>
            
            <p><strong>ä¸¦åˆ—å‡¦ç†:</strong></p>
            <ul>
                <li><code>ParallelChunkProcessor</code> - ä¸¦åˆ—ãƒãƒ£ãƒ³ã‚¯å‡¦ç†</li>
                <li>é©å¿œçš„ãƒãƒ£ãƒ³ã‚¯ã‚µã‚¤ã‚ºèª¿æ•´</li>
            </ul>
            
            <p><strong>ç›£è¦–ã‚·ã‚¹ãƒ†ãƒ :</strong></p>
            <ul>
                <li><code>PerformanceMonitor</code> - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–</li>
                <li><code>PerformanceBenchmark</code> - åŒ…æ‹¬çš„ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯</li>
                <li><code>ProgressiveOutputSystem</code> - ãƒ—ãƒ­ã‚°ãƒ¬ãƒƒã‚·ãƒ–å‡ºåŠ›</li>
            </ul>
        </details>
        
        <h2>ğŸš€ ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“å‘ä¸ŠåŠ¹æœ</h2>
        
        <div class="center">ğŸš€ <strong>å‡¦ç†é€Ÿåº¦: 600å€é«˜é€ŸåŒ–</strong></div>
        <div class="center">ğŸ§  <strong>ãƒ¡ãƒ¢ãƒªåŠ¹ç‡: 89.8%å‰Šæ¸›</strong></div>
        <div class="center">ğŸ“Š <strong>ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¡¨ç¤º: 30å€æ”¹å–„</strong></div>
        
        <hr>
        
        <h2>ä½¿ç”¨æ–¹æ³•</h2>
        
        <h3>åŸºæœ¬çš„ãªä½¿ç”¨</h3>
        <pre><code>from kumihan_formatter.parser import Parser, StreamingParser

# æœ€é©åŒ–ãƒ‘ãƒ¼ã‚µãƒ¼ï¼ˆæ¨å¥¨ï¼‰
parser = Parser()
nodes = parser.parse_optimized(text)

# å¤§å®¹é‡ãƒ•ã‚¡ã‚¤ãƒ«ç”¨ï¼ˆæ¨å¥¨ï¼‰
streaming_parser = StreamingParser()
for node in streaming_parser.parse_streaming_from_file(file_path):
    process_node(node)</code></pre>
        
        <h3>HTMLç”Ÿæˆ</h3>
        <pre><code>from kumihan_formatter.core.rendering.main_renderer import HTMLRenderer

renderer = HTMLRenderer()
html = renderer.render_nodes_optimized(nodes)  # æœ€é©åŒ–ç‰ˆ</code></pre>
        
        <div class="warning">
            <h3>âš ï¸ é‡è¦ãªæ³¨æ„äº‹é …</h3>
            <p>ã“ã®æœ€é©åŒ–ã«ã‚ˆã‚Šã€å¾“æ¥ã®å‡¦ç†ã§ã¯å›°é›£ã ã£ãŸå¤§å®¹é‡CoC6thã‚·ãƒŠãƒªã‚ªãƒ•ã‚¡ã‚¤ãƒ«ã®é«˜é€Ÿå‡¦ç†ãŒå¯èƒ½ã«ãªã‚Šã¾ã—ãŸã€‚</p>
        </div>
        
        <div class="info">
            <h3>â„¹ï¸ æŠ€è¡“ä»•æ§˜</h3>
            <ul>
                <li><strong>å¯¾å¿œãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º</strong>: æœ€å¤§200Kè¡Œ</li>
                <li><strong>ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡</strong>: ä¸€å®šï¼ˆãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºéä¾å­˜ï¼‰</li>
                <li><strong>å‡¦ç†é€Ÿåº¦</strong>: æœ€å¤§600å€é«˜é€ŸåŒ–</li>
                <li><strong>ä¸¦åˆ—åº¦</strong>: CPUã‚³ã‚¢æ•°ã«å¿œã˜ã¦è‡ªå‹•èª¿æ•´</li>
            </ul>
        </div>
        
        <hr>
        
        <footer>
            <p><em>âœ¨ Generated by Kumihan-Formatter Performance Optimization Demo</em><br>
            <em>Issue #727 - å¤§å®¹é‡ãƒ•ã‚¡ã‚¤ãƒ«å‡¦ç†ã¨ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆå•é¡Œ å¯¾å¿œå®Œäº†</em></p>
        </footer>
    </div>
</body>
</html>"""

    return html_content

def main():
    """HTMLã‚µãƒ³ãƒ—ãƒ«ç”Ÿæˆãƒ¡ã‚¤ãƒ³"""
    print("ğŸ“„ HTMLå‡ºåŠ›ã‚µãƒ³ãƒ—ãƒ«ç”Ÿæˆä¸­...")
    
    # HTMLç”Ÿæˆ
    html_content = generate_sample_html()
    
    # ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜
    output_path = Path("sample_output.html")
    with open(output_path, 'w', encoding='utf-8') as f:
        f.write(html_content)
    
    print(f"âœ… HTMLã‚µãƒ³ãƒ—ãƒ«ã‚’ç”Ÿæˆã—ã¾ã—ãŸ: {output_path.absolute()}")
    print("\nğŸŒ ãƒ–ãƒ©ã‚¦ã‚¶ã§ç¢ºèªã™ã‚‹ã«ã¯:")
    print(f"open {output_path.absolute()}")
    
    # HTMLã®ä¸€éƒ¨ã‚’è¡¨ç¤º
    print("\nğŸ“‹ ç”Ÿæˆã•ã‚ŒãŸHTMLã®ä¸€éƒ¨:")
    print("=" * 50)
    lines = html_content.split('\n')
    for i, line in enumerate(lines[:30]):
        print(f"{i+1:2d}: {line}")
    if len(lines) > 30:
        print(f"... ({len(lines)} è¡Œä¸­ 30è¡Œã‚’è¡¨ç¤º)")
    
    return 0

if __name__ == "__main__":
    exit(main())